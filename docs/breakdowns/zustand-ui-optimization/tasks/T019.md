# T019: Refactor useKeyboardShortcuts Integration

**Type**: FE (Hook Refactor)
**Priority**: High - removes callback props
**State**: pending

---

## Business Summary

Remove callback props from useKeyboardShortcuts, hook calls store actions directly.

---

## Logic

Remove onClearForm, onClearSearch, onOpenForm callback props. Hook imports store and calls actions directly.

---

## Technical Logic

Update useKeyboardShortcuts interface (hooks/useKeyboardShortcuts.ts:5-12):

Before:
```typescript
interface KeyboardShortcutOptions {
  titleInputRef: React.RefObject<HTMLInputElement | null>;
  searchInputRef: React.RefObject<HTMLInputElement | null>;
  cardsContainerRef: React.RefObject<HTMLDivElement | null>;
  onClearForm: () => void;
  onClearSearch: () => void;
  onOpenForm?: () => void;
}
```

After:
```typescript
interface KeyboardShortcutOptions {
  titleInputRef: React.RefObject<HTMLInputElement | null>;
  searchInputRef: React.RefObject<HTMLInputElement | null>;
  cardsContainerRef: React.RefObject<HTMLDivElement | null>;
}
```

Update hook implementation:
```typescript
import { useUiStore } from "@/stores/useUiStore";

export function useKeyboardShortcuts({
  titleInputRef,
  searchInputRef,
  cardsContainerRef,
}: KeyboardShortcutOptions) {
  useEffect(() => {
    const handleKeyDown = (event: KeyboardEvent) => {
      // ... existing key detection logic ...
      
      // Cmd+N - Open form
      if (isModifier && key === "n") {
        event.preventDefault();
        useUiStore.getState().openForm();
        window.setTimeout(() => {
          titleInputRef.current?.focus();
          titleInputRef.current?.select();
        }, 0);
        return;
      }

      // Escape - Clear form and search
      if (key === "escape") {
        useUiStore.getState().closeForm();
        useUiStore.getState().setSearchQuery("");
        if (document.activeElement instanceof HTMLElement) {
          document.activeElement.blur();
        }
        return;
      }

      // ... rest of existing logic ...
    };

    window.addEventListener("keydown", handleKeyDown);
    return () => window.removeEventListener("keydown", handleKeyDown);
  }, [cardsContainerRef, searchInputRef, titleInputRef]);
}
```

---

## Testing

Manual verification:
- Cmd+N opens form and focuses title input
- Cmd+F focuses search input
- Escape closes form and clears search
- Arrow keys navigate cards (existing functionality)

---

## Files

- `hooks/useKeyboardShortcuts.ts` (modify)

---

## Patterns

Store action calls from hooks.

---

## Dependencies

- **Blocks**: T020
- **Blocked By**: T002

---

## Acceptance Criteria

- [ ] Callback props removed from interface
- [ ] Hook calls store actions directly
- [ ] All keyboard shortcuts work
- [ ] No TypeScript errors
