# T007: Refactor page.tsx to Use Store Selectors (Phase 1)

**Type**: FE (Core Refactor)
**Priority**: High - removes state from page component
**State**: pending

---

## Business Summary

Eliminate prop drilling by moving UI state to Zustand store selectors.

---

## Logic

Remove 7 useState hooks from page.tsx and replace with store selectors.

---

## Technical Logic

Before (app/page.tsx:21-27):
```typescript
const [searchQuery, setSearchQuery] = useState("");
const [selectedTag, setSelectedTag] = useState("all");
const [sortKey, setSortKey] = useState<SortKey>("newest");
const [selectedSpaceId, setSelectedSpaceId] = useState<SpaceSelection>("all");
const [isFormOpen, setIsFormOpen] = useState(false);
const [isImportExportOpen, setIsImportExportOpen] = useState(false);
const [isSpacesOpen, setIsSpacesOpen] = useState(false);
```

After:
```typescript
import { useUiStore } from "@/stores/useUiStore";

// Use shallow comparison for multiple values to avoid unnecessary rerenders
const {
  searchQuery,
  selectedTag,
  sortKey,
  selectedSpaceId,
  isFormOpen,
  isImportExportOpen,
  isSpacesOpen,
} = useUiStore();
```

Keep refs as local state (unchanged):
```typescript
const titleInputRef = useRef<HTMLInputElement>(null);
const searchInputRef = useRef<HTMLInputElement>(null);
const cardsContainerRef = useRef<HTMLDivElement>(null);
```

---

## Testing

Manual verification:
- Page loads without errors
- No TypeScript errors
- Store values accessible in component

---

## Files

- `app/page.tsx` (modify - remove useState, add useUiStore)

---

## Patterns

Similar to how `useBookmarks` is consumed but with Zustand selectors.

---

## Dependencies

- **Blocks**: T008, T009, T010, T011, T012, T014, T016, T018
- **Blocked By**: T006

---

## Acceptance Criteria

- [ ] All 7 useState hooks removed
- [ ] useUiStore imported and used
- [ ] All 7 values accessible from store
- [ ] No TypeScript errors
- [ ] Page renders without errors
