# T010: Refactor BookmarkListView to Consume Store Selectors

**Type**: FE (Component Refactor)
**Priority**: High - removes prop drilling
**State**: pending

---

## Business Summary

Eliminate filter props drilling through BookmarkList â†’ BookmarkListView.

---

## Logic

Remove filter props from BookmarkListView, use store selectors.

---

## Technical Logic

Update BookmarkListView props (components/bookmarks/BookmarkListView.tsx:10-27):

Before:
```typescript
interface BookmarkListViewProps {
  searchQuery: string;
  selectedTag: string;
  sortKey: SortKey;
  tagOptions: string[];
  resultsCount: number;
  totalCount: number;
  errorMessage: string | null;
  isInitialLoading?: boolean;
  onSearchChange: (event: React.ChangeEvent<HTMLInputElement>) => void;
  onClearSearch: () => void;
  onTagChange: (event: React.ChangeEvent<HTMLSelectElement>) => void;
  onSortChange: (event: React.ChangeEvent<HTMLSelectElement>) => void;
  searchInputRef: React.RefObject<HTMLInputElement | null>;
  cardsContainerRef: React.RefObject<HTMLDivElement | null>;
  cards: React.ReactNode;
  onAddBookmark?: () => void;
}
```

After:
```typescript
interface BookmarkListViewProps {
  tagOptions: string[];
  resultsCount: number;
  totalCount: number;
  errorMessage: string | null;
  isInitialLoading?: boolean;
  cardsContainerRef: React.RefObject<HTMLDivElement | null>;
  cards: React.ReactNode;
  onAddBookmark?: () => void;
}
```

Update component:
```typescript
import { useUiStore } from "@/stores/useUiStore";

export default function BookmarkListView({
  tagOptions,
  resultsCount,
  totalCount,
  errorMessage,
  isInitialLoading = false,
  cardsContainerRef,
  cards,
  onAddBookmark,
}: BookmarkListViewProps) {
  // Read from store
  const searchQuery = useUiStore((s) => s.searchQuery);
  const selectedTag = useUiStore((s) => s.selectedTag);
  const sortKey = useUiStore((s) => s.sortKey);
  const setSearchQuery = useUiStore((s) => s.setSearchQuery);
  const setSelectedTag = useUiStore((s) => s.setSelectedTag);
  const setSortKey = useUiStore((s) => s.setSortKey);

  const searchInputRef = useRef<HTMLInputElement>(null);

  const handleSearchChange = (event: React.ChangeEvent<HTMLInputElement>) => {
    setSearchQuery(event.target.value);
  };

  const handleClearSearch = () => {
    setSearchQuery("");
  };

  const handleTagChange = (event: React.ChangeEvent<HTMLSelectElement>) => {
    setSelectedTag(event.target.value);
  };

  const handleSortChange = (event: React.ChangeEvent<HTMLSelectElement>) => {
    setSortKey(event.target.value as SortKey);
  };

  // Rest of component unchanged...
}
```

Note: searchInputRef needs to stay in BookmarkListView (or be managed by BookmarkSearchBar).

---

## Testing

Manual verification:
- List filters correctly
- Store updates work
- No TypeScript errors

---

## Files

- `components/bookmarks/BookmarkListView.tsx` (modify)

---

## Patterns

Selector-based consumption.

---

## Dependencies

- **Blocks**: T011
- **Blocked By**: T008

---

## Acceptance Criteria

- [ ] Filter props removed from BookmarkListViewProps
- [ ] Store selectors used
- [ ] onChange handlers call store actions
- [ ] Component functional
- [ ] No TypeScript errors
