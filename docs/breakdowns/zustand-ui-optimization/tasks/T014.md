# T014: Refactor BookmarkFormModal to Use Store Overlay State

**Type**: FE (Component Refactor)
**Priority**: Medium - removes overlay props
**State**: pending

---

## Business Summary

Remove isFormOpen and onClose props from BookmarkFormModal, read from store.

---

## Logic

Remove isOpen prop, use store selector for isFormOpen, replace onClose with store action.

---

## Technical Logic

Update BookmarkFormModal props (components/bookmarks/BookmarkFormModal.tsx):

Before (approximate - check actual file):
```typescript
interface BookmarkFormModalProps {
  isOpen: boolean;
  onClose: () => void;
  titleInputRef: React.RefObject<HTMLInputElement | null>;
  defaultSpaceId?: SpaceSelection;
}
```

After:
```typescript
interface BookmarkFormModalProps {
  titleInputRef: React.RefObject<HTMLInputElement | null>;
}
```

Update component:
```typescript
import { useUiStore } from "@/stores/useUiStore";

export default function BookmarkFormModal({
  titleInputRef,
}: BookmarkFormModalProps) {
  const isOpen = useUiStore((s) => s.isFormOpen);
  const closeForm = useUiStore((s) => s.closeForm);
  const selectedSpaceId = useUiStore((s) => s.selectedSpaceId);
  
  // Use isOpen and closeForm in component
  // Use selectedSpaceId as defaultSpaceId
  
  // Rest of component unchanged...
}
```

---

## Testing

Manual verification:
- Form modal opens correctly
- Form modal closes correctly
- Default space is correct

---

## Files

- `components/bookmarks/BookmarkFormModal.tsx` (modify)

---

## Patterns

Overlay state from store.

---

## Dependencies

- **Blocks**: T015
- **Blocked By**: T008

---

## Acceptance Criteria

- [ ] isOpen prop removed
- [ ] onClose prop removed
- [ ] defaultSpaceId prop removed
- [ ] isFormOpen read from store
- [ ] closeForm action from store
- [ ] selectedSpaceId from store for default
- [ ] Modal functional
